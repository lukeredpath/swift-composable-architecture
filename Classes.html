<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Classes  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Classes" class="dashAnchor"></a>

    <a title="Classes  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          ComposableArchitecture Docs
        </a>
         (78% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">ComposableArchitecture Reference</a>
      <img class="carat" src="img/carat.png" />
      Classes  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Store.html">Store</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TestStore.html">TestStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TestStore/Step.html">– Step</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ViewStore.html">ViewStore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ActionFormat.html">ActionFormat</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/CLAuthorizationStatus.html">CLAuthorizationStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Date.html">Date</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/DispatchQueue.html">DispatchQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/OperationQueue.html">OperationQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Publisher.html">Publisher</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Publishers.html">Publishers</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Publishers.html#/Create">– Create</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/RunLoop.html">RunLoop</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/SFSpeechRecognizerAuthorizationStatus.html">SFSpeechRecognizerAuthorizationStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URL.html">URL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/View.html">View</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CustomDebugOutputConvertible.html">CustomDebugOutputConvertible</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AlertState.html">AlertState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AlertState/Button.html">– Button</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DebugEnvironment.html">DebugEnvironment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Effect.html">Effect</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Effect/Subscriber.html">– Subscriber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ForEachStore.html">ForEachStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Identified.html">Identified</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IdentifiedArray.html">IdentifiedArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IfLetStore.html">IfLetStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Reducer.html">Reducer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/StorePublisher.html">StorePublisher</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/WithViewStore.html">WithViewStore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:22ComposableArchitecture17IdentifiedArrayOfa">IdentifiedArrayOf</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Classes</h1>
            <p>The following classes are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture5StoreC"></a>
                    <a name="//apple_ref/swift/Class/Store" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture5StoreC">Store</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A store represents the runtime that powers the application. It is the object that you will pass
around to views that need to interact with the application.</p>

<p>You will typically construct a single one of these at the root of your application, and then use
the <code>scope</code> method to derive more focused stores that can be passed to subviews.</p>

                        <a href="Classes/Store.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">Store</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture9TestStoreC"></a>
                    <a name="//apple_ref/swift/Class/TestStore" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture9TestStoreC">TestStore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A testable runtime for a reducer.</p>

<p>This object aids in writing expressive and exhaustive tests for features built in the
Composable Architecture. It allows you to send a sequence of actions to the store, and each
step of the way you must assert exactly how state changed, and how effect emissions were fed
back into the system.</p>

<p>There are multiple ways the test store forces you to exhaustively assert on how your feature
behaves:</p>

<ul>
<li>After each action is sent you must describe precisely how the state changed from before the
action was sent to after it was sent.</li>
</ul>

<p>If even the smallest piece of data differs the test will fail. This guarantees that you are
  proving you know precisely how the state of the system changes.</p>

<ul>
<li>Sending an action can sometimes cause an effect to be executed, and if that effect emits an
action that is fed back into the system, you <strong>must</strong> explicitly assert that you expect to
receive that action from the effect, <em>and</em> you must assert how state changed as a result.</li>
</ul>

<p>If you try to send another action before you have handled all effect emissions the assertion
  will fail. This guarantees that you do not accidentally forget about an effect emission, and
  that the sequence of steps you are describing will mimic how the application behaves in
  reality.</p>

<ul>
<li>All effects must complete by the time the assertion has finished running the steps you
specify.</li>
</ul>

<p>If at the end of the assertion there is still an in-flight effect running, the assertion
  will fail. This helps exhaustively prove that you know what effects are in flight and forces
  you to prove that effects will not cause any future changes to your state.</p>

<p>For example, given a simple counter reducer:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">CounterState</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="kd">enum</span> <span class="kt">CounterAction</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">decrementButtonTapped</span>
  <span class="k">case</span> <span class="n">incrementButtonTapped</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">counterReducer</span> <span class="o">=</span> <span class="kt">Reducer</span><span class="o">&lt;</span><span class="kt">CounterState</span><span class="p">,</span> <span class="kt">CounterAction</span><span class="p">,</span> <span class="kt">Void</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
  <span class="k">switch</span> <span class="n">action</span> <span class="p">{</span>
  <span class="k">case</span> <span class="o">.</span><span class="nv">decrementButtonTapped</span><span class="p">:</span>
    <span class="n">state</span><span class="o">.</span><span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="o">.</span><span class="k">none</span>

  <span class="k">case</span> <span class="o">.</span><span class="nv">incrementButtonTapped</span><span class="p">:</span>
    <span class="n">state</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="o">.</span><span class="k">none</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>One can assert against its behavior over time:</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">CounterTests</span><span class="p">:</span> <span class="kt">XCTestCase</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">testCounter</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">store</span> <span class="o">=</span> <span class="kt">TestStore</span><span class="p">(</span>
      <span class="nv">initialState</span><span class="p">:</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="mi">0</span><span class="p">),</span>  <span class="c1">// GIVEN counter state of 0</span>
      <span class="nv">reducer</span><span class="p">:</span> <span class="n">counterReducer</span><span class="p">,</span>
      <span class="nv">environment</span><span class="p">:</span> <span class="p">()</span>
    <span class="p">)</span>

    <span class="n">store</span><span class="o">.</span><span class="nf">assert</span><span class="p">(</span>
      <span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="n">incrementButtonTapped</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// WHEN the increment button is tapped</span>
        <span class="nv">$0</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>                  <span class="c1">// THEN the count should be 1</span>
      <span class="p">}</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Note that in the trailing closure of <code>.send(.incrementButtonTapped)</code> we are given a single
mutable value of the state before the action was sent, and it is our job to mutate the value
to match the state after the action was sent. In this case the <code>count</code> field changes to <code>1</code>.</p>

<p>For a more complex example, consider the following bare-bones search feature that uses the
<code>.debounce</code> operator to wait for the user to stop typing before making a network request:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">SearchState</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">query</span> <span class="o">=</span> <span class="s">""</span>
  <span class="k">var</span> <span class="nv">results</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="p">}</span>

<span class="kd">enum</span> <span class="kt">SearchAction</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="k">case</span> <span class="nf">queryChanged</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
  <span class="k">case</span> <span class="nf">response</span><span class="p">([</span><span class="kt">String</span><span class="p">])</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">SearchEnvironment</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">mainQueue</span><span class="p">:</span> <span class="kt">AnySchedulerOf</span><span class="o">&lt;</span><span class="kt">DispatchQueue</span><span class="o">&gt;</span>
  <span class="k">var</span> <span class="nv">request</span><span class="p">:</span> <span class="p">(</span><span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Effect</span><span class="o">&lt;</span><span class="p">[</span><span class="kt">String</span><span class="p">],</span> <span class="kt">Never</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">searchReducer</span> <span class="o">=</span> <span class="kt">Reducer</span><span class="o">&lt;</span><span class="kt">SearchState</span><span class="p">,</span> <span class="kt">SearchAction</span><span class="p">,</span> <span class="kt">SearchEnvironment</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">environment</span> <span class="k">in</span>

    <span class="kd">struct</span> <span class="kt">SearchId</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="p">{}</span>

    <span class="k">switch</span> <span class="n">action</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">queryChanged</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
      <span class="n">state</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span>
      <span class="k">return</span> <span class="n">environment</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="o">.</span><span class="nf">debounce</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="kt">SearchId</span><span class="p">(),</span> <span class="nv">for</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="nv">scheduler</span><span class="p">:</span> <span class="n">environment</span><span class="o">.</span><span class="n">mainQueue</span><span class="p">)</span>

    <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">response</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
      <span class="n">state</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="n">results</span>
      <span class="k">return</span> <span class="o">.</span><span class="k">none</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>It can be fully tested by controlling the environment&rsquo;s scheduler and effect:</p>
<pre class="highlight swift"><code><span class="c1">// Create a test dispatch scheduler to control the timing of effects</span>
<span class="k">let</span> <span class="nv">scheduler</span> <span class="o">=</span> <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">testScheduler</span>

<span class="k">let</span> <span class="nv">store</span> <span class="o">=</span> <span class="kt">TestStore</span><span class="p">(</span>
  <span class="nv">initialState</span><span class="p">:</span> <span class="kt">SearchState</span><span class="p">(),</span>
  <span class="nv">reducer</span><span class="p">:</span> <span class="n">searchReducer</span><span class="p">,</span>
  <span class="nv">environment</span><span class="p">:</span> <span class="kt">SearchEnvironment</span><span class="p">(</span>
    <span class="c1">// Wrap the test scheduler in a type-erased scheduler</span>
    <span class="nv">mainQueue</span><span class="p">:</span> <span class="n">scheduler</span><span class="o">.</span><span class="nf">eraseToAnyScheduler</span><span class="p">(),</span>
    <span class="c1">// Simulate a search response with one item</span>
    <span class="nv">request</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kt">Effect</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="p">[</span><span class="s">"Composable Architecture"</span><span class="p">])</span> <span class="p">}</span>
  <span class="p">)</span>
<span class="p">)</span>
<span class="n">store</span><span class="o">.</span><span class="nf">assert</span><span class="p">(</span>
  <span class="c1">// Change the query</span>
  <span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="nf">searchFieldChanged</span><span class="p">(</span><span class="s">"c"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Assert that state updates accordingly</span>
    <span class="nv">$0</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="s">"c"</span>
  <span class="p">},</span>

  <span class="c1">// Advance the scheduler by a period shorter than the debounce</span>
  <span class="o">.</span><span class="k">do</span> <span class="p">{</span> <span class="n">scheduler</span><span class="o">.</span><span class="nf">advance</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">)</span> <span class="p">},</span>

  <span class="c1">// Change the query again</span>
  <span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="nf">searchFieldChanged</span><span class="p">(</span><span class="s">"co"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$0</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="s">"co"</span>
  <span class="p">},</span>

  <span class="c1">// Advance the scheduler by a period shorter than the debounce</span>
  <span class="o">.</span><span class="k">do</span> <span class="p">{</span> <span class="n">scheduler</span><span class="o">.</span><span class="nf">advance</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">)</span> <span class="p">},</span>
  <span class="c1">// Advance the scheduler to the debounce</span>
  <span class="o">.</span><span class="k">do</span> <span class="p">{</span> <span class="n">scheduler</span><span class="o">.</span><span class="nf">advance</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">)</span> <span class="p">},</span>

  <span class="c1">// Assert that the expected response is received</span>
  <span class="o">.</span><span class="nf">receive</span><span class="p">(</span><span class="o">.</span><span class="nf">response</span><span class="p">([</span><span class="s">"Composable Architecture"</span><span class="p">]))</span> <span class="p">{</span>
    <span class="c1">// Assert that state updates accordingly</span>
    <span class="nv">$0</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Composable Architecture"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">)</span>
</code></pre>

<p>This test is proving that the debounced network requests are correctly canceled when we do not
wait longer than the 0.5 seconds, because if it wasn&rsquo;t and it delivered an action when we did
not expect it would cause a test failure.</p>

                        <a href="Classes/TestStore.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">TestStore</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">LocalState</span><span class="p">,</span> <span class="kt">Action</span><span class="p">,</span> <span class="kt">LocalAction</span><span class="p">,</span> <span class="kt">Environment</span><span class="o">&gt;</span> <span class="k">where</span> <span class="kt">Action</span> <span class="p">:</span> <span class="kt">Equatable</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture9ViewStoreC"></a>
                    <a name="//apple_ref/swift/Class/ViewStore" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture9ViewStoreC">ViewStore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>ViewStore</code> is an object that can observe state changes and send actions. They are most
commonly used in views, such as SwiftUI views, UIView or UIViewController, but they can be
used anywhere it makes sense to observe state and send actions.</p>

<p>In SwiftUI applications, a <code>ViewStore</code> is accessed most commonly using the <code><a href="Structs/WithViewStore.html">WithViewStore</a></code> view.
It can be initialized with a store and a closure that is handed a view store and must return a
view to be rendered:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
  <span class="kt">WithViewStore</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">store</span><span class="p">)</span> <span class="p">{</span> <span class="n">viewStore</span> <span class="k">in</span>
    <span class="kt">VStack</span> <span class="p">{</span>
      <span class="kt">Text</span><span class="p">(</span><span class="s">"Current count: </span><span class="se">\(</span><span class="n">viewStore</span><span class="o">.</span><span class="n">count</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
      <span class="kt">Button</span><span class="p">(</span><span class="s">"Increment"</span><span class="p">)</span> <span class="p">{</span> <span class="n">viewStore</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="n">incrementButtonTapped</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>In UIKit applications a <code>ViewStore</code> can be created from a <code><a href="Classes/Store.html">Store</a></code> and then subscribed to for
state updates:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">store</span><span class="p">:</span> <span class="kt">Store</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="o">&gt;</span>
<span class="k">let</span> <span class="nv">viewStore</span><span class="p">:</span> <span class="kt">ViewStore</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="o">&gt;</span>

<span class="nf">init</span><span class="p">(</span><span class="nv">store</span><span class="p">:</span> <span class="kt">Store</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">self</span><span class="o">.</span><span class="n">store</span> <span class="o">=</span> <span class="n">store</span>
  <span class="k">self</span><span class="o">.</span><span class="n">viewStore</span> <span class="o">=</span> <span class="kt">ViewStore</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

  <span class="k">self</span><span class="o">.</span><span class="n">viewStore</span><span class="o">.</span><span class="n">publisher</span><span class="o">.</span><span class="n">count</span>
    <span class="o">.</span><span class="n">sink</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="k">in</span> <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">countLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nv">$0</span> <span class="p">}</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="k">self</span><span class="o">.</span><span class="n">cancellables</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">@objc</span> <span class="kd">func</span> <span class="nf">incrementButtonTapped</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">self</span><span class="o">.</span><span class="n">viewStore</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="n">incrementButtonTapped</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

                        <a href="Classes/ViewStore.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@dynamicMemberLookup</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">ViewStore</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">ObservableObject</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-07-10)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
