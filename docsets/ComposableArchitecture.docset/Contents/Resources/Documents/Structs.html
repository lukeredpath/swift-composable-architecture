<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Structures  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Structures" class="dashAnchor"></a>

    <a title="Structures  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          ComposableArchitecture Docs
        </a>
         (78% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">ComposableArchitecture Reference</a>
      <img class="carat" src="img/carat.png" />
      Structures  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Store.html">Store</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TestStore.html">TestStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TestStore/Step.html">– Step</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ViewStore.html">ViewStore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ActionFormat.html">ActionFormat</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/CLAuthorizationStatus.html">CLAuthorizationStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Date.html">Date</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/DispatchQueue.html">DispatchQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/OperationQueue.html">OperationQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Publisher.html">Publisher</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Publishers.html">Publishers</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Publishers.html#/Create">– Create</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/RunLoop.html">RunLoop</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/SFSpeechRecognizerAuthorizationStatus.html">SFSpeechRecognizerAuthorizationStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URL.html">URL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/View.html">View</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CustomDebugOutputConvertible.html">CustomDebugOutputConvertible</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AlertState.html">AlertState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AlertState/Button.html">– Button</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DebugEnvironment.html">DebugEnvironment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Effect.html">Effect</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Effect/Subscriber.html">– Subscriber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ForEachStore.html">ForEachStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Identified.html">Identified</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IdentifiedArray.html">IdentifiedArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IfLetStore.html">IfLetStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Reducer.html">Reducer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/StorePublisher.html">StorePublisher</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/WithViewStore.html">WithViewStore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:22ComposableArchitecture17IdentifiedArrayOfa">IdentifiedArrayOf</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Structures</h1>
            <p>The following structures are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture7ReducerV"></a>
                    <a name="//apple_ref/swift/Struct/Reducer" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture7ReducerV">Reducer</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A reducer describes how to evolve the current state of an application to the next state, given
an action, and describes what <code><a href="Structs/Effect.html">Effect</a></code>s should be executed later by the store, if any.</p>

<p>Reducers have 3 generics:</p>

<ul>
<li><code>State</code>: A type that holds the current state of the application</li>
<li><code>Action</code>: A type that holds all possible actions that cause the state of the application to
change.</li>
<li><p><code>Environment</code>: A type that holds all dependencies needed in order to produce <code><a href="Structs/Effect.html">Effect</a></code>s, such
as API clients, analytics clients, random number generators, etc.</p></li>
</ul><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>The thread on which effects output is important. An effect&rsquo;s output is immediately sent
back into the store, and <code><a href="Classes/Store.html">Store</a></code> is not thread safe. This means all effects must receive
values on the same thread, <strong>and</strong> if the <code><a href="Classes/Store.html">Store</a></code> is being used to drive UI then all output
must be on the main thread. You can use the <code>Publisher</code> method <code>receive(on:)</code> for make the
effect output its values on the thread of your choice.</p>

</div>

                        <a href="Structs/Reducer.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Reducer</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="p">,</span> <span class="kt">Environment</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture16DebugEnvironmentV"></a>
                    <a name="//apple_ref/swift/Struct/DebugEnvironment" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture16DebugEnvironmentV">DebugEnvironment</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An environment for debug-printing reducers.</p>

                        <a href="Structs/DebugEnvironment.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">DebugEnvironment</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture6EffectV"></a>
                    <a name="//apple_ref/swift/Struct/Effect" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture6EffectV">Effect</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>Effect</code> type encapsulates a unit of work that can be run in the outside world, and can feed
data back to the <code><a href="Classes/Store.html">Store</a></code>. It is the perfect place to do side effects, such as network requests,
saving/loading from disk, creating timers, interacting with dependencies, and more.</p>

<p>Effects are returned from reducers so that the <code><a href="Classes/Store.html">Store</a></code> can perform the effects after the reducer
is done running. It is important to note that <code><a href="Classes/Store.html">Store</a></code> is not thread safe, and so all effects
must receive values on the same thread, <strong>and</strong> if the store is being used to drive UI then it
must receive values on the main thread.</p>

<p>An effect simply wraps a <code>Publisher</code> value and provides some convenience initializers for
constructing some common types of effects.</p>

                        <a href="Structs/Effect.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Effect</span><span class="o">&lt;</span><span class="kt">Output</span><span class="p">,</span> <span class="kt">Failure</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">Publisher</span> <span class="k">where</span> <span class="kt">Failure</span> <span class="p">:</span> <span class="kt">Error</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Effect</span><span class="p">:</span> <span class="kt"><a href="Protocols/CustomDebugOutputConvertible.html">CustomDebugOutputConvertible</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture14StorePublisherV"></a>
                    <a name="//apple_ref/swift/Struct/StorePublisher" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture14StorePublisherV">StorePublisher</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A publisher of store state.</p>

                        <a href="Structs/StorePublisher.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@dynamicMemberLookup</span>
<span class="kd">public</span> <span class="kd">struct</span> <span class="kt">StorePublisher</span><span class="o">&lt;</span><span class="kt">State</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">Publisher</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture10AlertStateV"></a>
                    <a name="//apple_ref/swift/Struct/AlertState" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture10AlertStateV">AlertState</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A data type that describes the state of an alert that can be shown to the user. The <code>Action</code>
generic is the type of actions that can be sent from tapping on a button in the alert.</p>

<p>This type can be used in your application&rsquo;s state in order to control the presentation or
dismissal of alerts. It is preferrable to use this API instead of the default SwiftUI API
for alerts because SwiftUI uses 2-way bindings in order to control the showing and dismissal
of alerts, and that does not play nicely with the Composable Architecture. The library requires
that all state mutations happen by sending an action so that a reducer can handle that logic,
which greatly simplifies how data flows through your application, and gives you instant
testability on all parts of your application.</p>

<p>To use this API, you model all the alert actions in your domain&rsquo;s action enum:</p>
<pre class="highlight swift"><code><span class="kd">enum</span> <span class="kt">AppAction</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">cancelTapped</span>
  <span class="k">case</span> <span class="n">confirmTapped</span>
  <span class="k">case</span> <span class="n">deleteTapped</span>

  <span class="c1">// Your other actions</span>
<span class="p">}</span>
</code></pre>

<p>And you model the state for showing the alert in your domain&rsquo;s state, and it can start off
<code>nil</code>:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">AppState</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">alert</span> <span class="o">=</span> <span class="kt">AlertState</span><span class="o">&lt;</span><span class="kt">AppAction</span><span class="o">&gt;</span><span class="p">?</span>

  <span class="c1">// Your other state</span>
<span class="p">}</span>
</code></pre>

<p>Then, in the reducer you can construct an <code>AlertState</code> value to represent the alert you want
to show to the user:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">appReducer</span> <span class="o">=</span> <span class="kt">Reducer</span><span class="o">&lt;</span><span class="kt">AppState</span><span class="p">,</span> <span class="kt">AppAction</span><span class="p">,</span> <span class="kt">AppEnvironment</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">env</span> <span class="k">in</span>
  <span class="k">switch</span> <span class="n">action</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">cancelTapped</span><span class="p">:</span>
      <span class="n">state</span><span class="o">.</span><span class="n">alert</span> <span class="o">=</span> <span class="kc">nil</span>
      <span class="k">return</span> <span class="o">.</span><span class="k">none</span>

    <span class="k">case</span> <span class="o">.</span><span class="nv">confirmTapped</span><span class="p">:</span>
      <span class="n">state</span><span class="o">.</span><span class="n">alert</span> <span class="o">=</span> <span class="kc">nil</span>
      <span class="c1">// Do deletion logic...</span>

    <span class="k">case</span> <span class="o">.</span><span class="nv">deleteTapped</span><span class="p">:</span>
      <span class="n">state</span><span class="o">.</span><span class="n">alert</span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span>
        <span class="nv">title</span><span class="p">:</span> <span class="s">"Delete"</span><span class="p">,</span>
        <span class="nv">message</span><span class="p">:</span> <span class="s">"Are you sure you want to delete this? It cannot be undone."</span><span class="p">,</span>
        <span class="nv">primaryButton</span><span class="p">:</span> <span class="o">.</span><span class="nf">default</span><span class="p">(</span><span class="s">"Confirm"</span><span class="p">,</span> <span class="nv">send</span><span class="p">:</span> <span class="o">.</span><span class="n">confirmTapped</span><span class="p">),</span>
        <span class="nv">secondaryButton</span><span class="p">:</span> <span class="o">.</span><span class="nf">cancel</span><span class="p">()</span>
      <span class="p">)</span>
    <span class="k">return</span> <span class="o">.</span><span class="k">none</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>And then, in your view you can use the <code>.alert(_:send:dismiss:)</code> method on <code>View</code> in order
to present the alert in a way that works best with the Composable Architecture:</p>
<pre class="highlight swift"><code><span class="kt">Button</span><span class="p">(</span><span class="s">"Delete"</span><span class="p">)</span> <span class="p">{</span> <span class="n">viewStore</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="n">deleteTapped</span><span class="p">)</span> <span class="p">}</span>
  <span class="o">.</span><span class="nf">alert</span><span class="p">(</span>
    <span class="k">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="nf">scope</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">alert</span><span class="p">),</span>
    <span class="nv">dismiss</span><span class="p">:</span> <span class="o">.</span><span class="n">cancelTapped</span>
  <span class="p">)</span>
</code></pre>

<p>This makes your reducer in complete control of when the alert is shown or dismissed, and makes
it so that any choice made in the alert is automatically fed back into the reducer so that you
can handle its logic.</p>

<p>Even better, you can instantly write tests that your alert behavior works as expected:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">store</span> <span class="o">=</span> <span class="kt">TestStore</span><span class="p">(</span>
  <span class="nv">initialState</span><span class="p">:</span> <span class="kt">AppState</span><span class="p">(),</span>
  <span class="nv">reducer</span><span class="p">:</span> <span class="n">appReducer</span><span class="p">,</span>
  <span class="nv">environment</span><span class="p">:</span> <span class="o">.</span><span class="n">mock</span>
<span class="p">)</span>

<span class="n">store</span><span class="o">.</span><span class="nf">assert</span><span class="p">(</span>
  <span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="n">deleteTapped</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$0</span><span class="o">.</span><span class="n">alert</span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span>
      <span class="nv">title</span><span class="p">:</span> <span class="s">"Delete"</span><span class="p">,</span>
      <span class="nv">message</span><span class="p">:</span> <span class="s">"Are you sure you want to delete this? It cannot be undone."</span><span class="p">,</span>
      <span class="nv">primaryButton</span><span class="p">:</span> <span class="o">.</span><span class="nf">default</span><span class="p">(</span><span class="s">"Confirm"</span><span class="p">,</span> <span class="nv">send</span><span class="p">:</span> <span class="o">.</span><span class="n">confirmTapped</span><span class="p">),</span>
      <span class="nv">secondaryButton</span><span class="p">:</span> <span class="o">.</span><span class="nf">cancel</span><span class="p">(</span><span class="nv">send</span><span class="p">:</span> <span class="o">.</span><span class="n">cancelTapped</span><span class="p">)</span>
    <span class="p">)</span>
  <span class="p">},</span>
  <span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="o">.</span><span class="n">deleteTapped</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$0</span><span class="o">.</span><span class="n">alert</span> <span class="o">=</span> <span class="kc">nil</span>
    <span class="c1">// Also verify that delete logic executed correctly</span>
  <span class="p">}</span>
<span class="p">)</span>
</code></pre>

                        <a href="Structs/AlertState.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">AlertState</span><span class="o">&lt;</span><span class="kt">Action</span><span class="o">&gt;</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">AlertState</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="k">where</span> <span class="kt">Action</span><span class="p">:</span> <span class="kt">Equatable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">AlertState</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="k">where</span> <span class="kt">Action</span><span class="p">:</span> <span class="kt">Hashable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">AlertState</span><span class="p">:</span> <span class="kt">Identifiable</span> <span class="k">where</span> <span class="kt">Action</span><span class="p">:</span> <span class="kt">Hashable</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture12ForEachStoreV"></a>
                    <a name="//apple_ref/swift/Struct/ForEachStore" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture12ForEachStoreV">ForEachStore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A structure that computes views on demand from a store on a collection of data.</p>

                        <a href="Structs/ForEachStore.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ForEachStore</span><span class="o">&lt;</span><span class="kt">EachState</span><span class="p">,</span> <span class="kt">EachAction</span><span class="p">,</span> <span class="kt">Data</span><span class="p">,</span> <span class="kt">ID</span><span class="p">,</span> <span class="kt">Content</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">DynamicViewContent</span>
<span class="k">where</span> <span class="kt">Data</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">ID</span><span class="p">:</span> <span class="kt">Hashable</span><span class="p">,</span> <span class="kt">Content</span><span class="p">:</span> <span class="kt">View</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture10IdentifiedV"></a>
                    <a name="//apple_ref/swift/Struct/Identified" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture10IdentifiedV">Identified</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A wrapper around a value and a hashable identifier that conforms to identifiable.</p>

                        <a href="Structs/Identified.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@dynamicMemberLookup</span>
<span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Identified</span><span class="o">&lt;</span><span class="kt">ID</span><span class="p">,</span> <span class="kt">Value</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">Identifiable</span> <span class="k">where</span> <span class="kt">ID</span> <span class="p">:</span> <span class="kt">Hashable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Identified</span><span class="p">:</span> <span class="kt">Decodable</span> <span class="k">where</span> <span class="kt">ID</span><span class="p">:</span> <span class="kt">Decodable</span><span class="p">,</span> <span class="kt">Value</span><span class="p">:</span> <span class="kt">Decodable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Identified</span><span class="p">:</span> <span class="kt">Encodable</span> <span class="k">where</span> <span class="kt">ID</span><span class="p">:</span> <span class="kt">Encodable</span><span class="p">,</span> <span class="kt">Value</span><span class="p">:</span> <span class="kt">Encodable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Identified</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="k">where</span> <span class="kt">Value</span><span class="p">:</span> <span class="kt">Equatable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Identified</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="k">where</span> <span class="kt">Value</span><span class="p">:</span> <span class="kt">Hashable</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture15IdentifiedArrayV"></a>
                    <a name="//apple_ref/swift/Struct/IdentifiedArray" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture15IdentifiedArrayV">IdentifiedArray</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An array of elements that can be identified by a given key path.</p>

<p>A useful container of state that is intended to interface with <code>SwiftUI.ForEach</code>. For example,
your application may model a counter in an identifiable fashion:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">CounterState</span><span class="p">:</span> <span class="kt">Identifiable</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">id</span><span class="p">:</span> <span class="kt">UUID</span>
  <span class="k">var</span> <span class="nv">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="kd">enum</span> <span class="kt">CounterAction</span> <span class="p">{</span> <span class="k">case</span> <span class="n">incr</span><span class="p">,</span> <span class="n">decr</span> <span class="p">}</span>
<span class="k">let</span> <span class="nv">counterReducer</span> <span class="o">=</span> <span class="kt">Reducer</span><span class="o">&lt;</span><span class="kt">CounterState</span><span class="p">,</span> <span class="kt">CounterAction</span><span class="p">,</span> <span class="kt">Void</span><span class="o">&gt;</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</code></pre>

<p>This domain can be pulled back to a larger domain with the <code>forEach</code> method:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">AppState</span> <span class="p">{</span> <span class="k">var</span> <span class="nv">counters</span> <span class="o">=</span> <span class="kt">IdentifiedArray</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">}</span>
<span class="kd">enum</span> <span class="kt">AppAction</span> <span class="p">{</span> <span class="k">case</span> <span class="nf">counter</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="kt">UUID</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kt">CounterAction</span><span class="p">)</span> <span class="p">}</span>
<span class="k">let</span> <span class="nv">appReducer</span> <span class="o">=</span> <span class="n">counterReducer</span><span class="o">.</span><span class="nf">forEach</span><span class="p">(</span>
  <span class="nv">state</span><span class="p">:</span> <span class="p">\</span><span class="kt">AppState</span><span class="o">.</span><span class="n">counters</span><span class="p">,</span>
  <span class="nv">action</span><span class="p">:</span> <span class="o">/</span><span class="kt">AppAction</span><span class="o">.</span><span class="nf">counter</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span><span class="nv">action</span><span class="p">:),</span>
  <span class="nv">environment</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">}</span>
<span class="p">)</span>
</code></pre>

<p>And then SwiftUI can work with this array of identified elements in a list view:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">AppView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">store</span><span class="p">:</span> <span class="kt">Store</span><span class="o">&lt;</span><span class="kt">AppState</span><span class="p">,</span> <span class="kt">AppAction</span><span class="o">&gt;</span>

  <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kt">List</span> <span class="p">{</span>
      <span class="kt">ForEachStore</span><span class="p">(</span>
        <span class="k">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="nf">scope</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">counters</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kt">AppAction</span><span class="o">.</span><span class="nf">counter</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span><span class="n">action</span><span class="p">))</span>
        <span class="nv">content</span><span class="p">:</span> <span class="kt">CounterView</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">store</span><span class="p">:)</span>
      <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

                        <a href="Structs/IdentifiedArray.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">IdentifiedArray</span><span class="o">&lt;</span><span class="kt">ID</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">MutableCollection</span><span class="p">,</span> <span class="kt">RandomAccessCollection</span>
<span class="k">where</span> <span class="kt">ID</span><span class="p">:</span> <span class="kt">Hashable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">CustomDebugStringConvertible</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">CustomReflectable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">CustomStringConvertible</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">Decodable</span> <span class="k">where</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Decodable</span> <span class="o">&amp;</span> <span class="kt">Identifiable</span><span class="p">,</span> <span class="kt">ID</span> <span class="o">==</span> <span class="kt">Element</span><span class="o">.</span><span class="kt">ID</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">Encodable</span> <span class="k">where</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Encodable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="k">where</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Equatable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="k">where</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Hashable</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">ExpressibleByArrayLiteral</span> <span class="k">where</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Identifiable</span><span class="p">,</span> <span class="kt">ID</span> <span class="o">==</span> <span class="kt">Element</span><span class="o">.</span><span class="kt">ID</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IdentifiedArray</span><span class="p">:</span> <span class="kt">RangeReplaceableCollection</span>
<span class="k">where</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Identifiable</span><span class="p">,</span> <span class="kt">ID</span> <span class="o">==</span> <span class="kt">Element</span><span class="o">.</span><span class="kt">ID</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture10IfLetStoreV"></a>
                    <a name="//apple_ref/swift/Struct/IfLetStore" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture10IfLetStoreV">IfLetStore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A view that safely unwraps a store of optional state in order to show one of two views.</p>

<p>When the underlying state is non-<code>nil</code>, the <code>then</code> closure will be performed with a <code><a href="Classes/Store.html">Store</a></code> that
holds onto non-optional state, and otherwise the <code>else</code> closure will be performed.</p>

<p>This is useful for deciding between two views to show depending on an optional piece of state:</p>
<pre class="highlight swift"><code><span class="kt">IfLetStore</span><span class="p">(</span>
  <span class="n">store</span><span class="o">.</span><span class="nf">scope</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="p">\</span><span class="kt">SearchState</span><span class="o">.</span><span class="n">results</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kt">SearchAction</span><span class="o">.</span><span class="n">results</span><span class="p">),</span>
  <span class="nv">then</span><span class="p">:</span> <span class="kt">SearchResultsView</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">store</span><span class="p">:),</span>
  <span class="nv">else</span><span class="p">:</span> <span class="kt">Text</span><span class="p">(</span><span class="s">"Loading search results..."</span><span class="p">)</span>
<span class="p">)</span>
</code></pre>

<p>And for performing navigation when a piece of state becomes non-<code>nil</code>:</p>
<pre class="highlight swift"><code> <span class="kt">NavigationLink</span><span class="p">(</span>
   <span class="nv">destination</span><span class="p">:</span> <span class="kt">IfLetStore</span><span class="p">(</span>
     <span class="k">self</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="nf">scope</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">detail</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kt">AppAction</span><span class="o">.</span><span class="n">detail</span><span class="p">),</span>
     <span class="nv">then</span><span class="p">:</span> <span class="kt">DetailView</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">store</span><span class="p">:)</span>
   <span class="p">),</span>
   <span class="nv">isActive</span><span class="p">:</span> <span class="n">viewStore</span><span class="o">.</span><span class="nf">binding</span><span class="p">(</span>
     <span class="nv">get</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">isGameActive</span><span class="p">,</span>
     <span class="nv">send</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">?</span> <span class="o">.</span><span class="nv">startButtonTapped</span> <span class="p">:</span> <span class="o">.</span><span class="n">detailDismissed</span> <span class="p">}</span>
   <span class="p">)</span>
 <span class="p">)</span> <span class="p">{</span>
   <span class="kt">Text</span><span class="p">(</span><span class="s">"Start!"</span><span class="p">)</span>
 <span class="p">}</span>
</code></pre>

                        <a href="Structs/IfLetStore.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">IfLetStore</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="p">,</span> <span class="kt">Content</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">View</span> <span class="k">where</span> <span class="kt">Content</span> <span class="p">:</span> <span class="kt">View</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:22ComposableArchitecture13WithViewStoreV"></a>
                    <a name="//apple_ref/swift/Struct/WithViewStore" class="dashAnchor"></a>
                    <a class="token" href="#/s:22ComposableArchitecture13WithViewStoreV">WithViewStore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A structure that transforms a store into an observable view store in order to compute views from
store state.</p>

<p>Due to a bug in SwiftUI, there are times that use of this view can interfere with some core
views provided by SwiftUI. The known problematic views are:</p>

<ul>
<li>If a <code>GeometryReader</code> is used inside a <code>WithViewStore</code> it will not receive state updates
correctly. To work around you either need to reorder the views so that <code>GeometryReader</code>
wraps the <code>WithViewStore</code>, or, if that is not possible, then you must hold onto an explicit
<code>@ObservedObject var viewStore: ViewStore&lt;State, Action&gt;</code> in your view in lieu of using
this helper (see <a href="https://gist.github.com/mbrandonw/cc5da3d487bcf7c4f21c27019a440d18">here</a>).</li>
<li>If you create a <code>Stepper</code> via the <code>Stepper.init(onIncrement:onDecrement:label:)</code> initializer
inside a <code>WithViewStore</code> it will behave erratically. To work around you should use the
initializer that takes a binding (see
<a href="https://gist.github.com/mbrandonw/dee2ceac2c316a1619cfdf1dc7945f66">here</a>).</li>
</ul>

                        <a href="Structs/WithViewStore.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">WithViewStore</span><span class="o">&lt;</span><span class="kt">State</span><span class="p">,</span> <span class="kt">Action</span><span class="p">,</span> <span class="kt">Content</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">View</span> <span class="k">where</span> <span class="kt">Content</span> <span class="p">:</span> <span class="kt">View</span></code></pre>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">WithViewStore</span><span class="p">:</span> <span class="kt">DynamicViewContent</span> <span class="k">where</span> <span class="kt">State</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">Content</span><span class="p">:</span> <span class="kt">DynamicViewContent</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-07-10)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
